---
const navItems = [
  { href: '/', label: '~/index', icon: '>' },
  { href: '/about', label: '~/about', icon: '?' },
  { href: '/work', label: '~/work', icon: '#' },
  { href: '/now', label: '~/now', icon: '*' },
];

const currentPath = Astro.url.pathname;
---

<header class="flex items-center justify-between w-full">
  <nav class="flex items-center gap-1 flex-wrap retro-text text-sm w-full justify-center md:justify-start">
    {navItems.map((item, index) => {
      const isActive = currentPath === item.href ||
        (item.href !== '/' && currentPath.startsWith(item.href));

      return (
        <>
          <a
            href={item.href}
            class={`px-3 py-2 border-2 transition-all duration-100 ${
              isActive
                ? 'bg-[var(--accent-tertiary)] text-[var(--bg-primary)] border-[var(--accent-tertiary)]'
                : 'bg-transparent text-[var(--text-secondary)] border-[var(--pixel-border)] hover:bg-[var(--bg-tertiary)] hover:text-[var(--text-primary)] hover:border-[var(--text-primary)]'
            }`}
          >
            <span class="text-[var(--accent-primary)] mr-1">{item.icon}</span>
            {item.label}
          </a>
          {index < navItems.length - 1 && (
            <span class="text-[var(--accent-secondary)] mx-1 hidden md:inline">//</span>
          )}
        </>
      );
    })}
  </nav>
</header>
