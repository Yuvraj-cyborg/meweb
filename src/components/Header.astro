---
import ThemeToggleButton from './ThemeToggleButton.tsx';
const navItems = [
  { href: '/', label: 'Index' },
  { href: '/about', label: 'About' },
  { href: '/blog', label: 'Blog' },
  { href: '/work', label: 'Work' },
  { href: '/now', label: 'Now' },
];

const currentPath = Astro.url.pathname;
---

<header class="flex items-center justify-between w-full">
  <!-- Left space for balance -->
  <div class="hidden sm:block"></div>

  <!-- Center nav -->
  <nav class="flex items-center gap-2 mx-1 text-sm font-medium flex-1 justify-center">
    {navItems.map((item) => {
      const isActive = currentPath === item.href ||
        (item.href !== '/' && currentPath.startsWith(item.href));

      return (
        <a
          href={item.href}
          class={`px-3 py-1.5 rounded-md transition-all duration-150 ${
            isActive
              ? 'bg-[var(--bg-primary)] text-[var(--text-primary)] shadow-sm'
              : 'text-[var(--text-secondary)] hover:bg-[var(--bg-primary)]/50 hover:text-[var(--text-primary)]'
          }`}
        >
          {item.label}
        </a>
      );
    })}
  </nav>
  <!-- Right toggles -->
  <ThemeToggleButton client:load />
</header>
